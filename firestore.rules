rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /patients/{patientId} {
      // This rule allows any authenticated user to read all documents
      // in the 'patients' collection. This is required for efficient
      // aggregation queries like count().
      allow read: if request.auth != null;

      // This rule allows any authenticated user to write to the 'patients'
      // collection.
      allow write: if request.auth != null;
    }
  }
}
